{
  "name": "Publish-blog",
  "nodes": [
    {
      "parameters": {
        "url": "https://aws.amazon.com/blogs/aws/feed/",
        "options": {}
      },
      "id": "d7c145fa-86cf-4005-92fb-cea60874f60a",
      "name": "AWSåšå®¢RSS",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [
        -520,
        -420
      ]
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Please review this paragraph  {{ $json[\"content:encoded\"] }} and give a summary in Chinese.\nYour output must be a single-line, compact JSON object with the following fields:\nof the blog in below format:\n{\n    \"title\": \"{{ $json.title }}\",\n\t\"summary\": \"[Chinese summary]\",\n    \"link\": {{ $json.link }}\",\n\t\"Author\": [{{ $json.creator }}],\n    \"Publish date\" : \"{{ $json.pubDate }}\",\n    \"Tag\": [{{ $json.categories }}]\n}\nStrict requirements:\n\nThe summary must be in Chinese.\n1. leave  \"title\": \"{{ $json.title }}\", \"link\": {{ $json.link }}\", \"Author\": [{{ $json.creator }}], \"Publish date\" : \"{{ $json.pubDate }}\", \"Tag\": [{{ $json.categories }}] as they are, you ONLY add SUMMARY field in Chinese.\n2.All double quotes inside field values must be properly escaped (use \\\" for any quote inside a value).\n3.Do not add any fields or text before or after the JSON object.\n4.The JSON must be valid and directly parsable.\nExample output:\njson\n{\n    \"title\": \"Amazon Q Developer elevates the IDE experience with new agentic coding experience\",\n\t\"summary\": \"Amazon Q Developeræ–°çš„agerntå¼€å‘èƒ½åŠ›æå‡IDEå¼€å‘ä½“éªŒ\",\n    \"link\": \"https://aws.amazon.com/blogs/aws/amazon-q-developer-elevates-the-ide-experience-with-new-agentic-coding-experience/\",\n\t\"Author\": [Elizabeth Fuentes],\n    \"Publish date\": \"Fri, 02 May 2025 16:02:26 +0000\",\n\"Tag\": [\"Amazon FSx\", \"Amazon Simple Storage Service(S3)\",\"Announcements\", \"Featured\", \"Launch\", \"News\", \"Storage\"]\n}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "You are a helpful assistant adept at summary AWS Blogs"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        880,
        560
      ],
      "id": "fd74d6dd-7595-4965-8ffc-07af2af8129d",
      "name": "AI Agent",
      "retryOnFail": true,
      "waitBetweenTries": 2000,
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n\t\"summary\": \"California\",\n\t\"Author\": [\"Andy Jassy\", \"Yunzhang Wang\"],\n    \"Publish date\" : \"05-03-2025\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        1040,
        800
      ],
      "id": "5dbe8530-c218-4fdb-9971-b1a1920b9a43",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "model": "anthropic.claude-3-5-sonnet-20241022-v2:0",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAwsBedrock",
      "typeVersion": 1,
      "position": [
        880,
        800
      ],
      "id": "318e1b1e-0ba7-4a4c-83f1-60e3920d9b93",
      "name": "BR Claude 3.5 V2",
      "credentials": {
        "aws": {
          "id": "n8YqdB3Oen3tpxH2",
          "name": "AWS account"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "reset": false
        }
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        600,
        540
      ],
      "id": "2d8bd07f-acab-4115-9773-fac791da1c60",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "amount": 1
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        1860,
        560
      ],
      "id": "451a0e53-2336-4741-b88a-769530793cfb",
      "name": "Wait",
      "webhookId": "afff01d0-4cd7-49b6-883e-44071121a97f"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "9fa73ce6-5a0e-441f-ac05-e2e70152c81a",
              "leftValue": "={{ $json.categories }}",
              "rightValue": "=Featured",
              "operator": {
                "type": "array",
                "operation": "contains",
                "rightType": "any"
              }
            },
            {
              "id": "28458597-c2a3-4b80-a400-ddfc061e07e8",
              "leftValue": "={{ $json.categories }}",
              "rightValue": "Launch",
              "operator": {
                "type": "array",
                "operation": "contains",
                "rightType": "any"
              }
            },
            {
              "id": "fc785a51-f424-4dd3-96fe-b41bf77b709c",
              "leftValue": "={{ $json.categories }}",
              "rightValue": "Week in Review",
              "operator": {
                "type": "array",
                "operation": "contains",
                "rightType": "any"
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        80,
        -500
      ],
      "id": "94542f51-4bd0-4ec2-9dbd-8fc443913462",
      "name": "å…³é”®å­—è¿‡æ»¤"
    },
    {
      "parameters": {
        "method": "PUT",
        "url": "=https://api.github.com/repos/aws-yz/aws-yz.github.io/contents/{{$json.filePath}}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "githubApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Accept",
              "value": "application/vnd.github+json"
            },
            {
              "name": "User-Agent",
              "value": "n8n-aws-blog-publisher"
            },
            {
              "name": "X-GitHub-Api-Version",
              "value": "2022-11-28"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "message",
              "value": "={{$json.commitMessage}}"
            },
            {
              "name": "content",
              "value": "={{ $json.content.base64Encode() }}"
            },
            {
              "name": "branch",
              "value": "main"
            },
            {
              "name": "committer",
              "value": "={{ { \"name\": \"n8n bot\", \"email\": \"wangyz180@gmail.com\" } }}"
            }
          ]
        },
        "options": {
          "response": {
            "response": {}
          },
          "timeout": 30000
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1420,
        560
      ],
      "id": "4472f3a4-9326-4ecc-9336-82e932af3706",
      "name": "githubAPI",
      "retryOnFail": true,
      "alwaysOutputData": true,
      "credentials": {
        "githubApi": {
          "id": "QX3HCT229pUyaCDm",
          "name": "GitHub account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "jsCode": "// ä¿®æ­£ç‰ˆæ±‡æ€»ç»Ÿè®¡èŠ‚ç‚¹ - ä¿®å¤å­—æ®µåç§°ä¸åŒ¹é…é—®é¢˜\nconst results = $input.all();\n\n// ğŸ¯ å…³é”®ä¿®æ­£ï¼šå­—æ®µåç§°ä¸ DynamoDB ç»“æ„ä¿æŒä¸€è‡´\nconst dynamoData = $('Get an item').first().json;\nconst currentTimestamps = {\n    awsblog_timestamp: dynamoData.aws_ts?.S || '1970-01-01T00:00:00.000Z',\n    awsinsights_timestamp: dynamoData.awsinsights_ts?.S || '1970-01-01T00:00:00.000Z',\n    gametech_timestamp: dynamoData.gametech_ts?.S || '1970-01-01T00:00:00.000Z',\n    ml_timestamp: dynamoData.ml_ts?.S || '1970-01-01T00:00:00.000Z'  // âœ… æ–°å¢\n};\n\nconsole.log('=== AWS Blog Publishing Summary with DynamoDB ===');\nconsole.log(`å¤„ç† ${results.length} ä¸ªé¡¹ç›®`);\nconsole.log('å½“å‰ DynamoDB æ—¶é—´æˆ³:', currentTimestamps);\n\nlet published = 0;\nlet skipped = 0;\nlet errors = 0;\n\nconst publishedArticles = [];\nconst failedArticles = [];\n\n// æŒ‰ RSS æºåˆ†ç»„æ”¶é›†æˆåŠŸå¤„ç†çš„æ–‡ç« æ—¶é—´æˆ³\nconst successfulArticlesBySource = {\n    'awsblog_timestamp': [],\n    'awsinsights_timestamp': [],\n    'gametech_timestamp': [],\n    'ml_timestamp': []  // âœ… æ–°å¢\n};\n\nresults.forEach((result, index) => {\n    const data = result.json;\n    const status = data.status;\n\n    if (status === 'published') {\n        published++;\n        publishedArticles.push({\n            fileName: data.fileName || 'unknown',\n            title: data.title || 'Unknown Title',\n            emoji: data.emoji || 'â˜ï¸',\n            commitSha: data.commitSha || 'unknown',\n            githubUrl: data.githubFileUrl || '',\n            timestamp: data.timestamp || new Date().toISOString(),\n            originalLink: data.originalLink || '',\n            rssSource: data.rssSource || null,\n            originalPublishDate: data.originalPublishDate || null\n        });\n\n        // æ”¶é›†æˆåŠŸæ–‡ç« çš„æ—¶é—´æˆ³ç”¨äºæ›´æ–°\n        if (data.rssSource && data.originalPublishDate) {\n            successfulArticlesBySource[data.rssSource].push(new Date(data.originalPublishDate));\n        }\n    } else if (status === 'skipped') {\n        skipped++;\n        failedArticles.push({\n            status: 'skipped',\n            fileName: data.fileName || 'unknown',\n            error: data.error || 'skipped'\n        });\n    } else if (status === 'error') {\n        errors++;\n        failedArticles.push({\n            status: 'error',\n            fileName: data.fileName || 'unknown',\n            error: data.error || 'unknown error'\n        });\n    }\n});\n\n// ğŸ¯ ä¿®æ­£ï¼šåªæœ‰åœ¨æœ‰æˆåŠŸè®°å½•æ—¶æ‰è®¡ç®—æ–°çš„æ—¶é—´æˆ³\nconst updatedTimestamps = { ...currentTimestamps };\nlet timestampUpdated = false;\n\n// åªæœ‰å½“æœ‰æˆåŠŸå¤„ç†çš„æ–‡ç« æ—¶æ‰æ›´æ–°æ—¶é—´æˆ³\nif (published > 0) {\n    Object.keys(successfulArticlesBySource).forEach(rssSource => {\n        const dates = successfulArticlesBySource[rssSource];\n        if (dates.length > 0) {\n            const latestDate = new Date(Math.max(...dates));\n            const currentDate = new Date(currentTimestamps[rssSource]);\n            \n            // åªæœ‰å½“æ–°æ—¶é—´æˆ³æ›´æ–°æ—¶æ‰æ›´æ–°\n            if (latestDate > currentDate) {\n                updatedTimestamps[rssSource] = latestDate.toISOString();\n                timestampUpdated = true;\n                console.log(`âœ… å‡†å¤‡æ›´æ–° ${rssSource}: ${currentDate.toISOString()} â†’ ${latestDate.toISOString()}`);\n            }\n        }\n    });\n} else {\n    console.log('â­ï¸ æ— æˆåŠŸè®°å½•ï¼Œä¿æŒåŸæœ‰æ—¶é—´æˆ³ä¸å˜');\n}\n\nconst summary = {\n    total: results.length,\n    published: published,\n    skipped: skipped,\n    errors: errors,\n    success_rate: results.length > 0 ? \n        ((published / results.length) * 100).toFixed(1) + '%' : '0%',\n    timestamp: new Date().toISOString(),\n    published_articles: publishedArticles,\n    failed_articles: failedArticles,\n    \n    // DynamoDB æ—¶é—´æˆ³ä¿¡æ¯\n    current_timestamps: currentTimestamps,\n    updated_timestamps: updatedTimestamps,\n    timestamp_updated: timestampUpdated\n};\n\nlet message = '';\nif (errors > 0) {\n    message = `âŒ ${errors} ç¯‡å¤„ç†å¤±è´¥`;\n    if (published > 0) {\n        message += `ï¼Œ${published} ç¯‡æˆåŠŸå‘å¸ƒ`;\n    }\n} else if (published > 0) {\n    message = `âœ… æˆåŠŸå‘å¸ƒ ${published} ç¯‡ AWS åšå®¢æ‘˜è¦`;\n} else {\n    message = `â„¹ï¸ æœ¬æ¬¡è¿è¡Œæ— æ–°æ–‡ç« å‘å¸ƒ`;\n}\n\nif (skipped > 0) {\n    message += `ï¼Œè·³è¿‡ ${skipped} ç¯‡`;\n}\n\nif (timestampUpdated) {\n    message += ` (æ—¶é—´æˆ³å·²æ›´æ–°)`;\n}\n\nconsole.log(`æ€»å¤„ç†: ${summary.total} ä¸ªé¡¹ç›®`);\nconsole.log(`æˆåŠŸå‘å¸ƒ: ${published} ä¸ª`);\nconsole.log(`è·³è¿‡: ${skipped} ä¸ª`);\nconsole.log(`é”™è¯¯: ${errors} ä¸ª`);\nconsole.log(`æˆåŠŸç‡: ${summary.success_rate}`);\nconsole.log(`æ—¶é—´æˆ³æ›´æ–°: ${timestampUpdated ? 'æ˜¯' : 'å¦'}`);\n\nreturn {\n    ...summary,\n    message: message,\n    blog_url: 'https://blog.ifyz.wang'\n};\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        740,
        180
      ],
      "id": "6743cad5-bbd2-4d77-94bf-4031aa6fc2b5",
      "name": "æ±‡æ€»ç»Ÿè®¡"
    },
    {
      "parameters": {
        "jsCode": "const summary = $json;\n\nif (summary.published > 0) {\n  return {\n    message: `âœ… æˆåŠŸå‘å¸ƒ ${summary.published} ç¯‡ AWS åšå®¢æ‘˜è¦`,\n    details: `æ€»è®¡: ${summary.total}, å‘å¸ƒ: ${summary.published}, è·³è¿‡: ${summary.skipped}, é”™è¯¯: ${summary.errors}`,\n    url: 'https://blog.ifyz.wang'\n  };\n}\n\nreturn {\n  message: `â„¹ï¸ æœ¬æ¬¡è¿è¡Œæ— æ–°æ–‡ç« å‘å¸ƒ`,\n  details: `æ€»è®¡: ${summary.total}, è·³è¿‡: ${summary.skipped}, é”™è¯¯: ${summary.errors}`\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        980,
        260
      ],
      "id": "d6942b29-0ddc-49ca-889c-ed6a722b719c",
      "name": "é€šçŸ¥"
    },
    {
      "parameters": {
        "jsCode": "// ç®€åŒ–ç‰ˆè½¬æ¢èŠ‚ç‚¹ä»£ç  - ç§»é™¤å›¾ç‰‡åŠŸèƒ½\nconst item = $json.output;\n\n// åŸºæœ¬æ ¼å¼éªŒè¯\nif (!item || !item.title || !item.summary || !item.link) {\n  throw new Error('Missing required fields: title, summary, or link');\n}\n\n// æ£€æŸ¥å†…å®¹è´¨é‡\nif (item.summary.length < 50) {\n  throw new Error('Summary too short (minimum 50 characters)');\n}\n\n// ç”Ÿæˆæ–‡ä»¶åå‹å¥½çš„ slug\nfunction createSlug(title) {\n  return title\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s-]/g, '')\n    .replace(/\\s+/g, '-')\n    .replace(/-+/g, '-')\n    .trim('-')\n    .substring(0, 50);\n}\n\n// å¤„ç†æ—¥æœŸ\nconst publishDate = new Date(item[\"Publish date\"]);\nconst dateStr = publishDate.toISOString().split('T')[0];\nconst isoDateTime = publishDate.toISOString().replace('Z', '+00:00');\n\n// ç”Ÿæˆæ–‡ä»¶å\nconst slug = createSlug(item.title);\nconst fileName = `${dateStr}-aws-blog-${slug}.md`;\n\n// å¤„ç†åˆ†ç±»å’Œæ ‡ç­¾\nfunction generateCategories(tags) {\n  const categoryMap = {\n    'storage': ['s3', 'simple storage service', 'fsx', 'efs', 'storage'],\n    'compute': ['lambda', 'ec2', 'fargate', 'batch', 'graviton'],\n    'database': ['rds', 'dynamodb', 'elasticache', 'redshift'],\n    'ai-ml': ['generative ai', 'machine learning', 'bedrock', 'sagemaker'],\n    'networking': ['vpc', 'cloudfront', 'route 53', 'load balancer'],\n    'developer-tools': ['codecommit', 'codebuild', 'codepipeline', 'open source'],\n    'security': ['guardduty', 'shield', 'security hub', 'certificate manager', 'backup'],\n    'news': ['announcements', 'launch', 'news', 'week in review']\n  };\n\n  const detectedCategories = new Set(['aws']);\n\n  tags.forEach(tag => {\n    const tagLower = tag.toLowerCase();\n    Object.entries(categoryMap).forEach(([category, keywords]) => {\n      if (keywords.some(keyword => tagLower.includes(keyword))) {\n        detectedCategories.add(category);\n      }\n    });\n  });\n\n  return Array.from(detectedCategories).slice(0, 4);\n}\n\nfunction cleanTags(tags) {\n  return tags.map(tag => {\n    return tag\n      .replace(/[^\\w\\s()-]/g, '')\n      .replace(/\\s+/g, ' ')\n      .trim();\n  }).filter(tag => tag.length > 0);\n}\n\nconst categories = generateCategories(item.Tag || []);\nconst tags = cleanTags(item.Tag || []);\n\n// ğŸ¯ é€‰æ‹©åˆé€‚çš„emoji\nfunction getEmojiForCategory(categories) {\n  const emojiMap = {\n    'storage': 'ğŸ’¾',\n    'compute': 'âš¡',\n    'database': 'ğŸ—„ï¸',\n    'ai-ml': 'ğŸ¤–',\n    'networking': 'ğŸŒ',\n    'security': 'ğŸ›¡ï¸',\n    'developer-tools': 'ğŸ”§',\n    'news': 'ğŸ“°'\n  };\n\n  // é€‰æ‹©ç¬¬ä¸€ä¸ªéawsåˆ†ç±»çš„emoji\n  const primaryCategory = categories.find(cat => cat !== 'aws');\n  return emojiMap[primaryCategory] || 'â˜ï¸';\n}\n\nconst emoji = getEmojiForCategory(categories);\n\n// ğŸ¨ ä½¿ç”¨ç®€åŒ–æ¨¡æ¿ç”Ÿæˆå†…å®¹\nconst enhancedContent = `# ${emoji} ${item.title}\n\n> **åŸæ–‡é“¾æ¥**: [${item.title}](${item.link})\n> **ä½œè€…**: ${(item.Author || []).join(', ')}\n> **å‘å¸ƒæ—¥æœŸ**: ${publishDate.toISOString().replace('T', ' ').replace('.000Z', ' UTC')}\n\n## ğŸ“‹ å†…å®¹æ‘˜è¦\n\n${item.summary}\n\n## ğŸ”— ç›¸å…³ä¿¡æ¯\n\nè¿™æ˜¯æ¥è‡ª AWS å®˜æ–¹åšå®¢çš„æœ€æ–°èµ„è®¯æ‘˜è¦ã€‚ç‚¹å‡»ä¸Šæ–¹åŸæ–‡é“¾æ¥æŸ¥çœ‹å®Œæ•´å†…å®¹å’ŒæŠ€æœ¯ç»†èŠ‚ã€‚\n\n### ğŸ·ï¸ æ¶‰åŠçš„ AWS æœåŠ¡å’Œä¸»é¢˜\n\n${(item.Tag || []).map(tag => `- **${tag}**`).join('\\n')}\n\n## ğŸ“š å»¶ä¼¸é˜…è¯»\n\n- [AWS å®˜æ–¹æ–‡æ¡£](https://docs.aws.amazon.com/)\n- [AWS æ¶æ„ä¸­å¿ƒ](https://aws.amazon.com/architecture/)\n- [AWS æœ€ä½³å®è·µ](https://aws.amazon.com/architecture/well-architected/)\n\n---\n\n*æœ¬æ–‡ä¸º AWS å®˜æ–¹åšå®¢å†…å®¹æ‘˜è¦ï¼Œå®Œæ•´å†…å®¹è¯·è®¿é—®åŸæ–‡é“¾æ¥ã€‚ç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚*`;\n// RSS æºæ ‡è¯†æ˜ å°„\nfunction getRSSSourcePrefix(link) {\n    if (!link) return '[AWS]';\n    \n    if (link.includes('/blogs/aws-insights/')) {\n        return '[AWS Insights]';\n    } else if (link.includes('/blogs/gametech/')) {\n        return '[AWS GameTech]';\n    } else if (link.includes('/blogs/aws/')) {\n        return '[AWS Blog]';\n    } else if (link.includes('/blogs/machine-learning/')) {\n        return '[ML]';\n    } \n    \n    return '[AWS]';\n}\n// ç”Ÿæˆå®Œæ•´çš„ Markdown æ–‡ä»¶ï¼ˆç®€åŒ–ç‰ˆï¼‰\n// åœ¨ç”Ÿæˆ frontMatter æ—¶ä¿®æ”¹æ ‡é¢˜\nconst rssPrefix = getRSSSourcePrefix(item.link);\nconst prefixedTitle = `${rssPrefix} ${item.title}`;\n\n// ä¿®æ”¹ frontMatter ä¸­çš„ title å­—æ®µ\nconst frontMatter = `---\nlayout: post\ntitle: \"${prefixedTitle}\"\ndate: ${isoDateTime}\ncategories: [${categories.join(', ')}]\ntags: [${tags.join(', ')}]\ntoc: true\nmath: false\nauthor: \"AWS Blog æ‘˜è¦\"\noriginal_author: \"${(item.Author || []).join(', ')}\"\noriginal_link: \"${item.link}\"\n---\n\n${enhancedContent}`;\n\nreturn {\n    fileName: fileName,\n    filePath: `_posts/${fileName}`,\n    content: frontMatter,\n    commitMessage: `Add AWS blog summary: ${prefixedTitle}`,\n    title: prefixedTitle,  // ä¿®æ”¹è¿™é‡Œ\n    originalLink: item.link,\n    publishDate: dateStr,\n    categories: categories,\n    tags: tags,\n    contentValid: true,\n    emoji: emoji\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1240,
        560
      ],
      "id": "ec54341e-4290-4b27-9b1f-723637bbacc0",
      "name": "è½¬æ¢æˆgithub APIéœ€è¦çš„å‚æ•°"
    },
    {
      "parameters": {
        "jsCode": "// å®Œå…¨ä¿®å¤ç‰ˆ n8n-enhanced-result èŠ‚ç‚¹ä»£ç  - ç¬¦åˆ n8n æ•°æ®ç»“æ„è§„èŒƒ\nconst input = $json;\n\n// ä» AI Agent è·å–åŸå§‹æ•°æ®\nconst aiAgentData = $('AI Agent').first().json;\nconst originalLink = aiAgentData?.output?.link || '';\nconst originalPublishDate = aiAgentData?.output?.['Publish date'] || null;\n\n// RSS æºè¯†åˆ«å‡½æ•°\nfunction identifyRSSSource(link) {\n    if (!link) return null;\n    \n    if (link.includes('/blogs/aws-insights/')) {\n        return 'awsinsights_timestamp';\n    } else if (link.includes('/blogs/gametech/')) {\n        return 'gametech_timestamp';\n    } else if (link.includes('/blogs/machine-learning/')) {\n        return 'ml_timestamp';  // âœ… æ·»åŠ  ML RSS è¯†åˆ«\n    } else if (link.includes('/blogs/aws/')) {\n        return 'awsblog_timestamp';\n    }\n    \n    return null;\n}\n\n// ğŸ¯ å…³é”®ä¿®æ­£ï¼šæ‰€æœ‰æ•°æ®éƒ½åŒ…è£…åœ¨ json å¯¹è±¡å†…\n// å¤„ç† GitHub API é”™è¯¯å“åº”\nif (input.error) {\n    const errorInfo = input.error;\n    \n    return [{\n        json: {\n            status: 'error',\n            error: errorInfo.message || 'GitHub API error',\n            errorName: errorInfo.name || 'Unknown',\n            errorDescription: errorInfo.description || '',\n            fileName: 'unknown',\n            title: aiAgentData?.output?.title || 'Unknown',\n            originalLink: originalLink,\n            rssSource: identifyRSSSource(originalLink),\n            originalPublishDate: originalPublishDate,\n            timestamp: new Date().toISOString(),\n            filesCommitted: 0,\n            articleSuccess: false,\n            githubError: {\n                message: errorInfo.message,\n                cause: errorInfo.cause?.message || '',\n                statusCode: errorInfo.cause?.status || 'unknown'\n            }\n        }\n    }];\n}\n\n// å¤„ç† GitHub API æˆåŠŸå“åº”\nif (input.content && input.commit) {\n    const rssSource = identifyRSSSource(originalLink);\n    \n    return [{\n        json: {\n            status: 'published',\n            fileName: input.content.name || 'unknown',\n            filePath: input.content.path || '',\n            fileSize: input.content.size || 0,\n            commitSha: input.commit.sha ? input.commit.sha.substring(0, 8) : 'unknown',\n            commitMessage: input.commit.message || '',\n            githubFileUrl: input.content.html_url || '',\n            githubCommitUrl: input.commit.html_url || '',\n            originalLink: originalLink,\n            rssSource: rssSource,\n            originalPublishDate: originalPublishDate,\n            githubCommitDate: input.commit.author?.date,\n            processedAt: new Date().toISOString(),\n            filesCommitted: 1,\n            articleSuccess: true,\n            title: aiAgentData?.output?.title || 'Unknown Title',\n            blogUrl: 'https://blog.ifyz.wang',\n            timestamp: originalPublishDate || input.commit.author?.date || new Date().toISOString(),\n            success: true\n        }\n    }];\n}\n\n// å¤„ç†å…¶ä»–é”™è¯¯æ ¼å¼\nif (input.message) {\n    return [{\n        json: {\n            status: 'error',\n            error: input.message || 'GitHub API error',\n            fileName: 'unknown',\n            title: aiAgentData?.output?.title || 'Unknown',\n            originalLink: originalLink,\n            rssSource: identifyRSSSource(originalLink),\n            originalPublishDate: originalPublishDate,\n            timestamp: new Date().toISOString(),\n            filesCommitted: 0,\n            articleSuccess: false\n        }\n    }];\n}\n\n// å¤„ç†å‘åå…¼å®¹çš„ status å­—æ®µ\nif (input.status) {\n    if (input.status === 'published') {\n        return [{\n            json: {\n                status: 'published',\n                fileName: input.fileName || 'unknown',\n                filePath: input.filePath || '',\n                fileSize: input.fileSize || 0,\n                commitSha: input.commitSha || 'unknown',\n                commitMessage: input.commitMessage || '',\n                githubFileUrl: input.githubFileUrl || '',\n                githubCommitUrl: input.githubCommitUrl || '',\n                filesCommitted: input.filesCommitted || 1,\n                articleSuccess: input.articleSuccess || true,\n                title: input.title || aiAgentData?.output?.title || 'Unknown Title',\n                categories: input.categories || [],\n                tags: input.tags || [],\n                emoji: input.emoji || 'â˜ï¸',\n                originalLink: originalLink,\n                rssSource: identifyRSSSource(originalLink),\n                originalPublishDate: originalPublishDate,\n                timestamp: input.timestamp || new Date().toISOString(),\n                success: true\n            }\n        }];\n    }\n    \n    if (input.status === 'error') {\n        return [{\n            json: {\n                status: 'error',\n                error: input.error || 'Unknown error',\n                fileName: input.fileName || 'unknown',\n                title: input.title || aiAgentData?.output?.title || 'Unknown',\n                originalLink: originalLink,\n                rssSource: identifyRSSSource(originalLink),\n                originalPublishDate: originalPublishDate,\n                timestamp: input.timestamp || new Date().toISOString(),\n                filesCommitted: 0,\n                articleSuccess: false\n            }\n        }];\n    }\n}\n\n// é»˜è®¤å¤„ç†\nconsole.log('Unexpected input format:', JSON.stringify(input, null, 2));\nreturn [{\n    json: {\n        status: 'unknown',\n        error: 'Unexpected response format from GitHub API',\n        originalLink: originalLink,\n        rssSource: identifyRSSSource(originalLink),\n        originalPublishDate: originalPublishDate,\n        timestamp: new Date().toISOString(),\n        filesCommitted: 0,\n        articleSuccess: false,\n        debug_input: input\n    }\n}];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1640,
        560
      ],
      "id": "38d7d9c8-e3b4-4cef-8ec7-4c6b4c3930fa",
      "name": "n8n-enhanced-result",
      "executeOnce": true,
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "numberInputs": 4
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        400,
        40
      ],
      "id": "5f79269e-7c0c-4696-a0f5-886a2a9c17a9",
      "name": "Merge"
    },
    {
      "parameters": {
        "url": "https://aws.amazon.com/blogs/aws-insights/feed/",
        "options": {}
      },
      "id": "84f29540-7093-4ade-996d-9ec2f00a3082",
      "name": "aws-insights",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [
        -520,
        -100
      ]
    },
    {
      "parameters": {
        "url": "https://aws.amazon.com/blogs/gametech/feed/",
        "options": {}
      },
      "id": "ac691277-af0d-4631-baea-651a9b612b9b",
      "name": "gametech",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [
        -520,
        200
      ]
    },
    {
      "parameters": {
        "jsCode": "const gametecghTimestamp = $input.first().json.aws_ts.S;\nconst gametechDate = new Date(gametecghTimestamp);\nconst isoTimestamp = gametechDate.toISOString();\n\nreturn [\n  {\n    gametech_timestamp: isoTimestamp\n  }\n];"
      },
      "id": "47748c6d-ecac-41ac-abae-c5830af8f46d",
      "name": "getLastrunStamp2",
      "type": "n8n-nodes-base.code",
      "position": [
        -520,
        60
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "dcea4904-cd08-4ba9-ad4d-7afd85b0eeb8",
              "leftValue": "={{  $json.isoDate }}",
              "rightValue": "={{ $json.awsinghts_timestamp }}",
              "operator": {
                "type": "dateTime",
                "operation": "after"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -80,
        -180
      ],
      "id": "7b5eedb3-ed0f-40a4-9b5c-f7fcd93315db",
      "name": "Filter1"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "dcea4904-cd08-4ba9-ad4d-7afd85b0eeb8",
              "leftValue": "={{  $json.isoDate }}",
              "rightValue": "={{ $json.awsblog_timestamp }}",
              "operator": {
                "type": "dateTime",
                "operation": "after"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -100,
        -500
      ],
      "id": "be918199-4622-47f3-a345-e464e113549a",
      "name": "sinceLstRun"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineAll",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        -280,
        -500
      ],
      "id": "573185bb-0e52-472d-b599-0bdffeba1e99",
      "name": "outJoin"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineAll",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        -260,
        -180
      ],
      "id": "1c709d8e-8c4a-4ad0-9b0c-d7fda3f9f4cc",
      "name": "outJoin2"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineAll",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        -280,
        120
      ],
      "id": "4c139057-af2b-4c84-8a3d-9007beea7ee6",
      "name": "outJoin3"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "dcea4904-cd08-4ba9-ad4d-7afd85b0eeb8",
              "leftValue": "={{  $json.isoDate }}",
              "rightValue": "={{ $json.gametech_timestamp }}",
              "operator": {
                "type": "dateTime",
                "operation": "after"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -80,
        120
      ],
      "id": "ba81f069-34fc-4fdd-8340-74a329ef1b28",
      "name": "Filter"
    },
    {
      "parameters": {
        "functionCode": "// ç¡®ä¿AI Agentè¾“å‡ºæ˜¯æœ‰æ•ˆçš„JSONæ ¼å¼å¹¶ç›´æ¥æ„å»ºé£ä¹¦webhookæ¶ˆæ¯\n// å¤„ç†æ¯ä¸ªè¾“å…¥é¡¹\nreturn items.map(item => {\n  // æ£€æŸ¥è¾“å…¥é¡¹æ˜¯å¦å­˜åœ¨\n  if (!item || !item.json || !item.json.output) {\n    console.error('è¾“å…¥é¡¹æ— æ•ˆæˆ–ç¼ºå°‘outputå­—æ®µ');\n    return item;\n  }\n\n  try {\n    // è·å–AI Agentçš„è¾“å‡º\n    let output = item.json.output;\n    console.log('åŸå§‹è¾“å‡ºç±»å‹:', typeof output);\n    \n    // å¦‚æœè¾“å‡ºæ˜¯å­—ç¬¦ä¸²ï¼Œå°è¯•è§£æä¸ºJSONå¯¹è±¡\n    if (typeof output === 'string') {\n      try {\n        output = JSON.parse(output);\n        console.log('æˆåŠŸå°†å­—ç¬¦ä¸²è§£æä¸ºJSONå¯¹è±¡');\n      } catch (e) {\n        console.log('è¾“å‡ºä¸æ˜¯æœ‰æ•ˆçš„JSONå­—ç¬¦ä¸²ï¼Œå°è¯•ä¿®å¤...');\n        \n        // å°è¯•ä¿®å¤å¸¸è§çš„JSONæ ¼å¼é—®é¢˜\n        let outputStr = output;\n        // 1. å¤„ç†å­—æ®µå€¼ä¸­æœªè½¬ä¹‰çš„åŒå¼•å·\n        outputStr = outputStr.replace(/([\\w\\s]+):\\s*\"([^\"]*)([^\\\\])\"([^,}]*)/g, '$1: \"$2$3\\\\\"$4');\n        // 2. ç¡®ä¿å­—æ®µåç§°ä½¿ç”¨åŒå¼•å·\n        outputStr = outputStr.replace(/([{,])\\s*([\\w\\s]+):/g, '$1\"$2\":');\n        // 3. ç§»é™¤å¯èƒ½çš„å‰å¯¼å’Œå°¾éšæ–‡æœ¬\n        outputStr = outputStr.replace(/^[^{]*({.*})[^}]*$/s, '$1');\n        \n        try {\n          output = JSON.parse(outputStr);\n          console.log('JSONæ ¼å¼ä¿®å¤æˆåŠŸ');\n        } catch (e2) {\n          console.error('JSONæ ¼å¼ä¿®å¤å¤±è´¥ï¼Œæ— æ³•è§£æä¸ºå¯¹è±¡:', e2.message);\n          // åˆ›å»ºä¸€ä¸ªåŸºæœ¬å¯¹è±¡ï¼Œé¿å…åç»­å¤„ç†å¤±è´¥\n          output = {\n            title: 'è§£æå¤±è´¥',\n            summary: 'æ— æ³•è§£æAIè¾“å‡ºä¸ºæœ‰æ•ˆJSON',\n            link: '',\n            Author: ['æœªçŸ¥'],\n            'Publish date': ''\n          };\n        }\n      }\n    }\n    \n    // ç¡®ä¿æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯¹è±¡å¯ä»¥å¤„ç†\n    if (typeof output !== 'object' || output === null) {\n      console.error('è¾“å‡ºä¸æ˜¯å¯¹è±¡ç±»å‹');\n      output = {\n        title: 'ç±»å‹é”™è¯¯',\n        summary: 'è¾“å‡ºä¸æ˜¯æœ‰æ•ˆçš„å¯¹è±¡ç±»å‹',\n        link: '',\n        Author: ['æœªçŸ¥'],\n        'Publish date': ''\n      };\n    }\n    \n    // æå–æ‰€éœ€å­—æ®µï¼Œå¤„ç†å¯èƒ½çš„undefinedå€¼\n    const title = output.title || '';\n    \n    // å¤„ç†Authorå­—æ®µï¼Œç¡®ä¿å®ƒæ˜¯æ•°ç»„å¹¶ä¸”å¯ä»¥å®‰å…¨åœ°join\n    let authors = '';\n    if (output.Author) {\n      if (Array.isArray(output.Author)) {\n        authors = output.Author.join(', ');\n      } else {\n        authors = String(output.Author);\n      }\n    }\n    \n    // å¤„ç†å‘å¸ƒæ—¥æœŸï¼Œè€ƒè™‘ä¸åŒçš„å¯èƒ½å­—æ®µå\n    const publishDate = output['Publish date'] || output['publish date'] || '';\n    \n    // å¤„ç†æ‘˜è¦\n    const summary = output.summary || '';\n    \n    // å¤„ç†é“¾æ¥ï¼Œç§»é™¤ç©ºç™½\n    const link = output.link ? String(output.link).replace(/\\s+/g, '') : '';\n    \n    // ç›´æ¥æ„å»ºé£ä¹¦webhookæ‰€éœ€çš„å®Œæ•´æ¶ˆæ¯æ ¼å¼\n    const feishuMessage = {\n      msg_type: \"text\",\n      content: {\n        text: `<at user_id=\"all\"></at> \\n æ ‡é¢˜ï¼š${title} \\n ä½œè€…ï¼š${authors} \\n å‘å¸ƒæ—¥æœŸï¼š${publishDate} \\n æ‘˜è¦ï¼š${summary}\\n Blogé“¾æ¥ï¼š${link}`\n      }\n    };\n    \n    // ä¿å­˜åŸå§‹AIè¾“å‡ºï¼Œä»¥é˜²åç»­éœ€è¦\n    item.json.originalOutput = output;\n    \n    // å°†é£ä¹¦æ¶ˆæ¯æ ¼å¼è®¾ç½®ä¸ºè¾“å‡º\n    item.json.output = feishuMessage;\n    \n    // éªŒè¯æœ€ç»ˆè¾“å‡ºæ˜¯å¦ä¸ºæœ‰æ•ˆJSON\n    try {\n      const finalJson = JSON.stringify(feishuMessage);\n      console.log('é£ä¹¦æ¶ˆæ¯æ ¼å¼éªŒè¯æˆåŠŸ');\n    } catch (e) {\n      console.error('é£ä¹¦æ¶ˆæ¯æ ¼å¼éªŒè¯å¤±è´¥:', e.message);\n    }\n    \n    return item;\n  } catch (error) {\n    console.error('å¤„ç†è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯:', error.message);\n    // ç¡®ä¿å³ä½¿å‡ºé”™ä¹Ÿè¿”å›ä¸€ä¸ªæœ‰æ•ˆçš„é¡¹\n    if (!item.json.output) {\n      item.json.output = {\n        msg_type: \"text\",\n        content: {\n          text: \"<at user_id=\\\"all\\\"></at> \\n å¤„ç†AIè¾“å‡ºæ—¶å‘ç”Ÿé”™è¯¯ï¼Œè¯·æ£€æŸ¥æ—¥å¿—ã€‚\"\n        }\n      };\n    }\n    return item;\n  }\n});"
      },
      "id": "0eadf2d5-f94c-4bb0-8b99-214bc729045c",
      "name": "æ ¼å¼åŒ–JSONè¾“å‡º",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        1240,
        340
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://open.feishu.cn/open-apis/bot/v2/hook/457f06ec-1976-4e09-b1a0-f1fad6d355f5",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ $json.output }}",
        "options": {
          "batching": {
            "batch": {
              "batchSize": 2
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1420,
        340
      ],
      "id": "b318b8e4-e4bb-41a9-9213-cdf097e7bcd3",
      "name": "æˆ‘çš„é£ä¹¦æœºå™¨äºº",
      "executeOnce": true,
      "notesInFlow": false,
      "alwaysOutputData": false,
      "retryOnFail": true,
      "waitBetweenTries": 3000,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "get",
        "tableName": "rss-timestamp",
        "select": "SPECIFIC_ATTRIBUTES",
        "keysUi": {
          "keyValues": [
            {
              "key": "id",
              "type": "N",
              "value": "1"
            }
          ]
        },
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.awsDynamoDb",
      "typeVersion": 1,
      "position": [
        -1060,
        -20
      ],
      "id": "56602acb-1268-4ae9-8d2b-0da788913080",
      "name": "Get an item",
      "credentials": {
        "aws": {
          "id": "UwXEYSERsas7TYOw",
          "name": "AWS account 2"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const awsBlogTimestamp = $input.first().json.aws_ts.S;\nconst awsBlogDate = new Date(awsBlogTimestamp);\nconst isoTimestamp = awsBlogDate.toISOString();\n\nreturn [\n  {\n    awsblog_timestamp: isoTimestamp\n  }\n];\n\n"
      },
      "id": "c5da847f-257a-481f-baf4-984f2bc3f1e2",
      "name": "awsBlogæœ€è¿‘æ—¶é—´æˆ³",
      "type": "n8n-nodes-base.code",
      "position": [
        -520,
        -560
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "jsCode": "const awsinsightsTimestamp = $input.first().json.awsinsights_ts.S;\nconst awsinsightsDate = new Date(awsinsightsTimestamp);\nconst isoTimestamp = awsinsightsDate.toISOString();\n\nreturn [\n  {\n    awsinghts_timestamp: isoTimestamp\n  }\n];\n\n"
      },
      "id": "36d4928d-6920-45d5-8629-5bd1bfa4d740",
      "name": "getLastrunStamp1",
      "type": "n8n-nodes-base.code",
      "position": [
        -520,
        -240
      ],
      "typeVersion": 2
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -1440,
        -20
      ],
      "id": "556912f3-9e61-451b-8efb-072ca9c09636",
      "name": "When clicking â€˜Execute workflowâ€™"
    },
    {
      "parameters": {
        "tableName": "rss-timestamp",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "id",
              "fieldValue": "1"
            },
            {
              "fieldId": "aws_ts",
              "fieldValue": "={{ $json.updated_timestamps.awsblog_timestamp }}"
            },
            {
              "fieldId": "awsinsights_ts",
              "fieldValue": "={{ $json.updated_timestamps.awsinsights_timestamp }}"
            },
            {
              "fieldId": "gametech_ts",
              "fieldValue": "={{ $json.updated_timestamps.gametech_timestamp }}"
            },
            {
              "fieldId": "updated_at",
              "fieldValue": "={{ $json.timestamp }}"
            },
            {
              "fieldId": "ml_ts",
              "fieldValue": "={{ $json.updated_timestamps.ml_timestamp }}"
            }
          ]
        },
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.awsDynamoDb",
      "typeVersion": 1,
      "position": [
        980,
        120
      ],
      "id": "def4ce27-35f6-4a7c-a645-7622503e0e69",
      "name": "Create or update an item",
      "credentials": {
        "aws": {
          "id": "UwXEYSERsas7TYOw",
          "name": "AWS account 2"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const mlTimestamp = $input.first().json.ml_ts.S;\nconst mlDate = new Date(mlTimestamp);\nconst isoTimestamp = mlDate.toISOString();\n\nreturn [\n  {\n    ml_timestamp: isoTimestamp\n  }\n];"
      },
      "id": "121e0251-d5e7-4ca0-bee3-e731b0c48a4e",
      "name": "getLastrunStamp",
      "type": "n8n-nodes-base.code",
      "position": [
        -520,
        400
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "url": "https://aws.amazon.com/blogs/machine-learning/feed/",
        "options": {}
      },
      "id": "e8e01774-ba65-4263-83b1-ff1898f35bb4",
      "name": "ML",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [
        -520,
        540
      ]
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineAll",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        -240,
        480
      ],
      "id": "9c66146e-5a2e-4082-8026-b988fc4b9241",
      "name": "outJoin4"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "dcea4904-cd08-4ba9-ad4d-7afd85b0eeb8",
              "leftValue": "={{  $json.isoDate }}",
              "rightValue": "={{ $json.ml_timestamp }}",
              "operator": {
                "type": "dateTime",
                "operation": "after"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -40,
        480
      ],
      "id": "199524bd-9991-4ee7-bff6-1024fd840f74",
      "name": "Filter2"
    }
  ],
  "pinData": {},
  "connections": {
    "AWSåšå®¢RSS": {
      "main": [
        [
          {
            "node": "outJoin",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "è½¬æ¢æˆgithub APIéœ€è¦çš„å‚æ•°",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "BR Claude 3.5 V2": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [
          {
            "node": "æ±‡æ€»ç»Ÿè®¡",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å…³é”®å­—è¿‡æ»¤": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "githubAPI": {
      "main": [
        [
          {
            "node": "n8n-enhanced-result",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ±‡æ€»ç»Ÿè®¡": {
      "main": [
        [
          {
            "node": "é€šçŸ¥",
            "type": "main",
            "index": 0
          },
          {
            "node": "Create or update an item",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è½¬æ¢æˆgithub APIéœ€è¦çš„å‚æ•°": {
      "main": [
        [
          {
            "node": "githubAPI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "n8n-enhanced-result": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "aws-insights": {
      "main": [
        [
          {
            "node": "outJoin2",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "gametech": {
      "main": [
        [
          {
            "node": "outJoin3",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "getLastrunStamp2": {
      "main": [
        [
          {
            "node": "outJoin3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "outJoin": {
      "main": [
        [
          {
            "node": "sinceLstRun",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "outJoin2": {
      "main": [
        [
          {
            "node": "Filter1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "outJoin3": {
      "main": [
        [
          {
            "node": "Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "sinceLstRun": {
      "main": [
        [
          {
            "node": "å…³é”®å­—è¿‡æ»¤",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter1": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Filter": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "æ ¼å¼åŒ–JSONè¾“å‡º": {
      "main": [
        [
          {
            "node": "æˆ‘çš„é£ä¹¦æœºå™¨äºº",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get an item": {
      "main": [
        [
          {
            "node": "awsBlogæœ€è¿‘æ—¶é—´æˆ³",
            "type": "main",
            "index": 0
          },
          {
            "node": "AWSåšå®¢RSS",
            "type": "main",
            "index": 0
          },
          {
            "node": "getLastrunStamp1",
            "type": "main",
            "index": 0
          },
          {
            "node": "aws-insights",
            "type": "main",
            "index": 0
          },
          {
            "node": "getLastrunStamp2",
            "type": "main",
            "index": 0
          },
          {
            "node": "gametech",
            "type": "main",
            "index": 0
          },
          {
            "node": "getLastrunStamp",
            "type": "main",
            "index": 0
          },
          {
            "node": "ML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "awsBlogæœ€è¿‘æ—¶é—´æˆ³": {
      "main": [
        [
          {
            "node": "outJoin",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "getLastrunStamp1": {
      "main": [
        [
          {
            "node": "outJoin2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking â€˜Execute workflowâ€™": {
      "main": [
        [
          {
            "node": "Get an item",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é€šçŸ¥": {
      "main": [
        []
      ]
    },
    "getLastrunStamp": {
      "main": [
        [
          {
            "node": "outJoin4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ML": {
      "main": [
        [
          {
            "node": "outJoin4",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "outJoin4": {
      "main": [
        [
          {
            "node": "Filter2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter2": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 3
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "callerPolicy": "workflowsFromSameOwner"
  },
  "versionId": "ddab4a78-2d99-43ec-8658-84b6c3d451bf",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "1695578057efcaddd552e4313ab52e3553fb9edb5139398210a9506c188cb8a6"
  },
  "id": "88IXZJwnPWJ7DtGF",
  "tags": []
}